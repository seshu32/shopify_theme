{% comment %}
Land to Table Story Section - BeWild.life
Vertical scroll storytelling with animated illustrations
Landscape ‚Üí Land prep ‚Üí Seeding ‚Üí Harvest ‚Üí Produce
{% endcomment %}

<section class="land-to-table-story">
  <div class="container">
    <!-- Section Header -->
    <div class="story-header">
      <h2 class="section-title">
        {{ section.settings.title | default: 'Land to Table: A Beforest Journey' }}
      </h2>
      {% if section.settings.subtitle != blank %}
        <p class="section-subtitle">{{ section.settings.subtitle }}</p>
      {% endif %}
    </div>

    <!-- Vertical Story Timeline -->
    <div class="story-timeline">
      {% for block in section.blocks %}
        <div class="story-step" data-step="{{ forloop.index }}">
          <div class="step-number">{{ forloop.index }}</div>
          
          <div class="step-content">
            <div class="step-visual">
              {% if block.settings.image %}
                <img src="{{ block.settings.image | img_url: '500x400' }}" alt="{{ block.settings.title }}" class="step-image">
              {% else %}
                <div class="step-icon-container">
                  <span class="step-icon">{{ block.settings.icon }}</span>
                </div>
              {% endif %}
              
              <!-- Animated elements for each step -->
              <div class="step-animation">
                {% case forloop.index %}
                  {% when 1 %}
                    <!-- Landscape - floating clouds and wind -->
                    <div class="cloud cloud-1">‚òÅÔ∏è</div>
                    <div class="cloud cloud-2">‚õÖ</div>
                    <div class="wind-lines">
                      <div class="wind-line"></div>
                      <div class="wind-line"></div>
                    </div>
                  {% when 2 %}
                    <!-- Land prep - moving soil and tools -->
                    <div class="soil-particle">üü§</div>
                    <div class="soil-particle">üü´</div>
                    <div class="tool-icon">‚öíÔ∏è</div>
                  {% when 3 %}
                    <!-- Seeding - falling seeds -->
                    <div class="seed seed-1">üå∞</div>
                    <div class="seed seed-2">üå∞</div>
                    <div class="seed seed-3">üå∞</div>
                  {% when 4 %}
                    <!-- Harvest - growing plants -->
                    <div class="growth growth-1">üå±</div>
                    <div class="growth growth-2">üåø</div>
                    <div class="harvest-basket">üß∫</div>
                  {% when 5 %}
                    <!-- Produce - final products -->
                    <div class="produce-item">ü•¨</div>
                    <div class="produce-item">üçÖ</div>
                    <div class="produce-item">ü•ï</div>
                {% endcase %}
              </div>
            </div>

            <div class="step-text">
              <h3 class="step-title">{{ block.settings.title }}</h3>
              <p class="step-description">{{ block.settings.description }}</p>
              
              {% if block.settings.highlight_text != blank %}
                <div class="step-highlight">
                  <span class="highlight-icon">‚ú®</span>
                  {{ block.settings.highlight_text }}
                </div>
              {% endif %}
            </div>
          </div>

          <!-- Connecting line to next step -->
          {% unless forloop.last %}
            <div class="timeline-connector">
              <div class="connector-line"></div>
              <div class="connector-arrow">üåø</div>
            </div>
          {% endunless %}
        </div>
      {% endfor %}
    </div>

    <!-- Journey Summary -->
    {% if section.settings.show_summary %}
      <div class="journey-summary">
        <div class="summary-content">
          <h3 class="summary-title">{{ section.settings.summary_title | default: 'From Soil to Soul' }}</h3>
          <p class="summary-text">{{ section.settings.summary_text | default: 'Every step of our journey is crafted with intention, respect for nature, and love for the community we serve. This is more than farming - it\'s a way of life.' }}</p>
          
          {% if section.settings.summary_cta_text != blank %}
            <a href="{{ section.settings.summary_cta_link | default: '/pages/our-story' }}" class="btn-summary">
              {{ section.settings.summary_cta_text }}
            </a>
          {% endif %}
        </div>
        
        <div class="summary-visual">
          <div class="forest-floor">
            <span class="floor-element">üçÑ</span>
            <span class="floor-element">üåø</span>
            <span class="floor-element">üçÉ</span>
            <span class="floor-element">üå∞</span>
            <span class="floor-element">ü¶ã</span>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
</section>

<style>
  .land-to-table-story {
    padding: 5rem 0;
    background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 50%, #f8f9fa 100%);
    position: relative;
    overflow: hidden;
  }

  .land-to-table-story::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 200px;
    background: linear-gradient(180deg, #344736 0%, transparent 100%);
    opacity: 0.1;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    position: relative;
  }

  .story-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .section-title {
    font-family: 'ABCArizonaFlare', serif;
    font-size: 3rem;
    font-weight: 300;
    color: #344736;
    margin-bottom: 1rem;
  }

  .section-subtitle {
    font-size: 1.2rem;
    color: #415c43;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
  }

  .story-timeline {
    position: relative;
    max-width: 800px;
    margin: 0 auto;
  }

  .story-step {
    position: relative;
    margin-bottom: 4rem;
    opacity: 0;
    transform: translateY(50px);
    animation: fadeInUp 0.8s ease forwards;
  }

  .story-step:nth-child(2) { animation-delay: 0.2s; }
  .story-step:nth-child(3) { animation-delay: 0.4s; }
  .story-step:nth-child(4) { animation-delay: 0.6s; }
  .story-step:nth-child(5) { animation-delay: 0.8s; }

  .step-number {
    position: absolute;
    left: -60px;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #ff774a, #9e3430);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 1.2rem;
    box-shadow: 0 4px 15px rgba(255, 119, 74, 0.3);
  }

  .step-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: center;
    background: white;
    border-radius: 20px;
    padding: 2.5rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(52, 71, 54, 0.1);
  }

  .step-visual {
    position: relative;
    text-align: center;
  }

  .step-image {
    width: 100%;
    height: 250px;
    object-fit: cover;
    border-radius: 15px;
  }

  .step-icon-container {
    width: 100%;
    height: 250px;
    background: linear-gradient(135deg, #b8dc99, #ffcf83);
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .step-icon {
    font-size: 4rem;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
  }

  .step-animation {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
  }

  /* Cloud animations */
  .cloud {
    position: absolute;
    font-size: 2rem;
    animation: float-cloud 4s ease-in-out infinite;
  }

  .cloud-1 { top: 10%; left: 10%; animation-delay: 0s; }
  .cloud-2 { top: 20%; right: 15%; animation-delay: 2s; }

  .wind-lines {
    position: absolute;
    top: 50%;
    left: 20%;
    right: 20%;
  }

  .wind-line {
    height: 2px;
    background: rgba(255, 255, 255, 0.6);
    margin: 10px 0;
    animation: wind-flow 2s ease-in-out infinite;
  }

  /* Soil and tool animations */
  .soil-particle {
    position: absolute;
    font-size: 1.5rem;
    animation: soil-fall 3s ease-in-out infinite;
  }

  .soil-particle:nth-child(1) { top: 20%; left: 30%; animation-delay: 0s; }
  .soil-particle:nth-child(2) { top: 40%; right: 30%; animation-delay: 1s; }

  .tool-icon {
    position: absolute;
    top: 60%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.5rem;
    animation: tool-work 2s ease-in-out infinite;
  }

  /* Seed animations */
  .seed {
    position: absolute;
    font-size: 1.2rem;
    animation: seed-fall 2.5s ease-in-out infinite;
  }

  .seed-1 { top: 10%; left: 20%; animation-delay: 0s; }
  .seed-2 { top: 10%; left: 50%; animation-delay: 0.5s; }
  .seed-3 { top: 10%; right: 20%; animation-delay: 1s; }

  /* Growth animations */
  .growth {
    position: absolute;
    font-size: 2rem;
    animation: plant-grow 3s ease-in-out infinite;
  }

  .growth-1 { bottom: 20%; left: 30%; animation-delay: 0s; }
  .growth-2 { bottom: 30%; right: 30%; animation-delay: 1s; }

  .harvest-basket {
    position: absolute;
    bottom: 10%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.5rem;
    animation: basket-sway 2s ease-in-out infinite;
  }

  /* Produce animations */
  .produce-item {
    position: absolute;
    font-size: 2rem;
    animation: produce-bounce 2s ease-in-out infinite;
  }

  .produce-item:nth-child(1) { top: 30%; left: 20%; animation-delay: 0s; }
  .produce-item:nth-child(2) { top: 50%; left: 50%; animation-delay: 0.7s; }
  .produce-item:nth-child(3) { top: 70%; right: 20%; animation-delay: 1.4s; }

  .step-text {
    padding-left: 1rem;
  }

  .step-title {
    font-family: 'ABCArizonaFlare', serif;
    font-size: 2rem;
    font-weight: normal;
    color: #344736;
    margin-bottom: 1rem;
  }

  .step-description {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #415c43;
    margin-bottom: 1.5rem;
  }

  .step-highlight {
    background: linear-gradient(135deg, #ffcf83, #ff774a);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: bold;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .highlight-icon {
    -webkit-text-fill-color: #ff774a;
  }

  .timeline-connector {
    position: absolute;
    left: 50%;
    bottom: -2rem;
    transform: translateX(-50%);
    text-align: center;
  }

  .connector-line {
    width: 2px;
    height: 40px;
    background: linear-gradient(180deg, #b8dc99, #ffcf83);
    margin: 0 auto 10px;
    animation: line-pulse 2s ease-in-out infinite;
  }

  .connector-arrow {
    font-size: 1.5rem;
    animation: arrow-bounce 2s ease-in-out infinite;
  }

  .journey-summary {
    margin-top: 5rem;
    background: linear-gradient(135deg, #344736, #415c43);
    border-radius: 25px;
    padding: 3rem;
    color: white;
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 3rem;
    align-items: center;
  }

  .summary-title {
    font-family: 'ABCArizonaFlare', serif;
    font-size: 2.5rem;
    font-weight: 300;
    margin-bottom: 1.5rem;
    color: #ffcf83;
  }

  .summary-text {
    font-size: 1.2rem;
    line-height: 1.8;
    margin-bottom: 2rem;
    color: rgba(255, 255, 255, 0.9);
  }

  .btn-summary {
    display: inline-block;
    background: linear-gradient(135deg, #ff774a, #9e3430);
    color: white;
    padding: 12px 24px;
    border-radius: 25px;
    text-decoration: none;
    font-weight: bold;
    transition: all 0.3s ease;
  }

  .btn-summary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(255, 119, 74, 0.3);
  }

  .forest-floor {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    align-items: center;
  }

  .floor-element {
    font-size: 2.5rem;
    animation: floor-dance 3s ease-in-out infinite;
  }

  .floor-element:nth-child(1) { animation-delay: 0s; }
  .floor-element:nth-child(2) { animation-delay: 0.6s; }
  .floor-element:nth-child(3) { animation-delay: 1.2s; }
  .floor-element:nth-child(4) { animation-delay: 1.8s; }
  .floor-element:nth-child(5) { animation-delay: 2.4s; }

  /* Animation keyframes */
  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes float-cloud {
    0%, 100% { transform: translateX(0) translateY(0); }
    50% { transform: translateX(10px) translateY(-5px); }
  }

  @keyframes wind-flow {
    0%, 100% { transform: scaleX(1); opacity: 0.6; }
    50% { transform: scaleX(1.2); opacity: 1; }
  }

  @keyframes soil-fall {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(10px) rotate(180deg); }
  }

  @keyframes tool-work {
    0%, 100% { transform: translateX(-50%) rotate(-5deg); }
    50% { transform: translateX(-50%) rotate(5deg); }
  }

  @keyframes seed-fall {
    0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
    50% { transform: translateY(0) rotate(180deg); opacity: 1; }
    100% { transform: translateY(20px) rotate(360deg); opacity: 0; }
  }

  @keyframes plant-grow {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  @keyframes basket-sway {
    0%, 100% { transform: translateX(-50%) rotate(-2deg); }
    50% { transform: translateX(-50%) rotate(2deg); }
  }

  @keyframes produce-bounce {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-10px) scale(1.1); }
  }

  @keyframes line-pulse {
    0%, 100% { opacity: 0.5; transform: scaleY(1); }
    50% { opacity: 1; transform: scaleY(1.1); }
  }

  @keyframes arrow-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }

  @keyframes floor-dance {
    0%, 100% { transform: rotate(0deg) scale(1); }
    25% { transform: rotate(-5deg) scale(1.05); }
    75% { transform: rotate(5deg) scale(0.95); }
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .step-number {
      position: relative;
      left: auto;
      top: auto;
      transform: none;
      margin: 0 auto 1rem;
    }

    .step-content {
      grid-template-columns: 1fr;
      gap: 2rem;
      text-align: center;
    }

    .journey-summary {
      grid-template-columns: 1fr;
      text-align: center;
    }

    .section-title {
      font-size: 2.5rem;
    }

    .step-title {
      font-size: 1.5rem;
    }

    .summary-title {
      font-size: 2rem;
    }
  }

  @media (max-width: 480px) {
    .section-title {
      font-size: 2rem;
    }

    .step-content {
      padding: 1.5rem;
    }

    .journey-summary {
      padding: 2rem;
    }
  }
</style>

{% schema %}
{
  "name": "Land to Table Story",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Land to Table: A Beforest Journey"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Section Subtitle",
      "default": "Follow the magical transformation from wild landscape to your family table"
    },
    {
      "type": "checkbox",
      "id": "show_summary",
      "label": "Show journey summary",
      "default": true
    },
    {
      "type": "text",
      "id": "summary_title",
      "label": "Summary Title",
      "default": "From Soil to Soul"
    },
    {
      "type": "textarea",
      "id": "summary_text",
      "label": "Summary Text",
      "default": "Every step of our journey is crafted with intention, respect for nature, and love for the community we serve. This is more than farming - it's a way of life."
    },
    {
      "type": "text",
      "id": "summary_cta_text",
      "label": "Summary CTA Text",
      "default": "Discover Our Story"
    },
    {
      "type": "url",
      "id": "summary_cta_link",
      "label": "Summary CTA Link",
      "default": "/pages/our-story"
    }
  ],
  "blocks": [
    {
      "type": "story_step",
      "name": "Story Step",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Step Title",
          "default": "Wild Landscape"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Step Description",
          "default": "Our journey begins in the untamed beauty of forest landscapes, where nature sets the rhythm."
        },
        {
          "type": "text",
          "id": "highlight_text",
          "label": "Highlight Text (Optional)"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Step Image"
        },
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (Emoji) - if no image",
          "default": "üå≤"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Land to Table Story",
      "blocks": [
        {
          "type": "story_step",
          "settings": {
            "title": "Wild Landscape",
            "description": "Our journey begins in the untamed beauty of forest landscapes, where nature sets the rhythm and seasons guide our way.",
            "highlight_text": "Respecting the land's natural wisdom",
            "icon": "üå≤"
          }
        },
        {
          "type": "story_step",
          "settings": {
            "title": "Land Preparation",
            "description": "With gentle hands and traditional tools, we prepare the soil while preserving the forest ecosystem's delicate balance.",
            "highlight_text": "Working with nature, not against it",
            "icon": "üõ†Ô∏è"
          }
        },
        {
          "type": "story_step",
          "settings": {
            "title": "Seeding & Cultivation",
            "description": "Seeds are planted with intention, nurtured by forest wisdom, and blessed by the rain that comes in its own time.",
            "highlight_text": "Every seed carries a story",
            "icon": "üå±"
          }
        },
        {
          "type": "story_step",
          "settings": {
            "title": "Harvest Time",
            "description": "When the forest whispers that the time is right, we harvest with gratitude, taking only what we need.",
            "highlight_text": "Harvesting stories, not just produce",
            "icon": "üß∫"
          }
        },
        {
          "type": "story_step",
          "settings": {
            "title": "Your Table",
            "description": "The final chapter of our story unfolds at your table, where wild flavors become cherished memories.",
            "highlight_text": "From our forest to your family",
            "icon": "üçΩÔ∏è"
          }
        }
      ]
    }
  ]
}
{% endschema %} 