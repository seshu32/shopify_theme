<section class="py-32 bg-gradient-to-br from-gray-800 via-gray-700 to-green-600 relative overflow-hidden">
  <!-- Background decorative elements -->
  <div class="absolute top-20 right-10 w-32 h-32 bg-yellow-400/10 rounded-full blur-3xl"></div>
  <div class="absolute bottom-20 left-10 w-40 h-40 bg-orange-500/10 rounded-full blur-3xl"></div>
  
  <div class="max-w-7xl mx-auto px-6 relative z-10">
    <!-- Section Header -->
    <div class="text-center mb-20">
      <!-- Badge -->
      {% if section.settings.badge_text %}
        <div class="inline-flex items-center px-6 py-3 bg-white/20 backdrop-blur-sm rounded-full mb-8">
          <span class="text-white font-medium text-sm tracking-wide">
            {{ section.settings.badge_text }}
          </span>
        </div>
      {% endif %}

      <!-- Main Heading -->
      <h2 class="text-5xl md:text-7xl font-light text-white mb-6 tracking-tight">
        {{ section.settings.main_title | default: "Explore Our Collections" }}
      </h2>
      
      <p class="text-xl text-white/90 max-w-2xl mx-auto leading-relaxed">
        {{ section.settings.main_description | default: "Discover our carefully curated collections of premium organic products, each telling a unique story from farm to table." }}
      </p>
    </div>

    <!-- Collections Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
      {% assign collections_to_show = collections.all | slice: 0, 6 %}
      {% if collections_to_show.size == 0 %}
        <!-- Placeholder collections when no collections exist -->
        {% for i in (1..6) %}
          <div class="group relative">
            <div class="relative overflow-hidden bg-white/95 backdrop-blur-sm rounded-3xl p-6 group-hover:shadow-2xl transition-all duration-500 group-hover:scale-105 border-2 border-gray-200">
              <div class="absolute top-0 left-0 right-0 h-1 bg-green-500 rounded-t-3xl"></div>

              <!-- Product Count Badge -->
              <div class="absolute top-4 right-4 z-10">
                <div class="bg-green-100 rounded-full px-3 py-1 opacity-0 group-hover:opacity-100 transition-all duration-300">
                  <span class="text-xs font-medium text-green-600">{{ forloop.index }} items</span>
                </div>
              </div>
              
              <!-- Product Image Placeholder -->
              <div class="relative mb-6 aspect-square bg-gray-100 rounded-2xl p-4 shadow-sm overflow-hidden flex items-center justify-center">
                <span class="text-6xl text-gray-400">
                  {% case forloop.index %}
                    {% when 1 %}ü•¨
                    {% when 2 %}üåæ
                    {% when 3 %}üçÖ
                    {% when 4 %}ü•ï
                    {% when 5 %}üåø
                    {% when 6 %}üçä
                  {% endcase %}
                </span>
              </div>

              <!-- Content -->
              <div class="text-center">
                <p class="text-xs font-medium tracking-wide uppercase mb-2 text-green-600 opacity-60">
                  Premium Quality
                </p>
                
                <h3 class="text-lg font-semibold text-gray-800 group-hover:text-gray-900 transition-colors duration-300 mb-3">
                  {% case forloop.index %}
                    {% when 1 %}Fresh Vegetables
                    {% when 2 %}Organic Grains
                    {% when 3 %}Garden Tomatoes
                    {% when 4 %}Root Vegetables
                    {% when 5 %}Herbs & Spices
                    {% when 6 %}Citrus Fruits
                  {% endcase %}
                </h3>

                <div class="flex justify-center">
                  <div class="h-px w-8 bg-green-500 transition-all duration-300 group-hover:w-16"></div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <!-- Actual collections -->
        {% for collection in collections_to_show %}
          <div class="group relative">
            <a href="{{ collection.url }}" class="block">
              <div class="relative overflow-hidden bg-white/95 backdrop-blur-sm rounded-3xl p-6 group-hover:shadow-2xl transition-all duration-500 group-hover:scale-105 border-2 border-gray-200">
                <div class="absolute top-0 left-0 right-0 h-1 bg-green-500 rounded-t-3xl"></div>

                <!-- Product Count Badge -->
                <div class="absolute top-4 right-4 z-10">
                  <div class="bg-green-100 rounded-full px-3 py-1 opacity-0 group-hover:opacity-100 transition-all duration-300">
                    <span class="text-xs font-medium text-green-600">{{ collection.products_count }} items</span>
                  </div>
                </div>
                
                <!-- Collection Image -->
                <div class="relative mb-6 aspect-square bg-gray-100 rounded-2xl p-4 shadow-sm overflow-hidden">
                  {% if collection.featured_image %}
                    <img src="{{ collection.featured_image | image_url: width: 300 }}" alt="{{ collection.title }}" class="w-full h-full object-cover rounded-xl group-hover:scale-110 transition-transform duration-700" />
                  {% else %}
                    <div class="w-full h-full bg-gradient-to-br from-green-100 to-green-200 rounded-xl flex items-center justify-center">
                      <span class="text-4xl text-green-600">üì¶</span>
                    </div>
                  {% endif %}
                </div>

                <!-- Content -->
                <div class="text-center">
                  <p class="text-xs font-medium tracking-wide uppercase mb-2 text-green-600 opacity-60">
                    Collection
                  </p>
                  
                  <h3 class="text-lg font-semibold text-gray-800 group-hover:text-gray-900 transition-colors duration-300 mb-3">
                    {{ collection.title }}
                  </h3>

                  <div class="flex justify-center">
                    <div class="h-px w-8 bg-green-500 transition-all duration-300 group-hover:w-16"></div>
                  </div>
                </div>
              </div>
            </a>
          </div>
        {% endfor %}
      {% endif %}
    </div>

    <!-- Bottom Story Section -->
    <div class="mt-24 text-center">
      <div class="bg-white/15 backdrop-blur-sm rounded-3xl p-12 border border-white/20">
        <h3 class="text-2xl font-light text-white mb-4">
          {{ section.settings.bottom_title | default: "Every Collection Has a Story" }}
        </h3>
        <p class="text-white/90 mb-8 max-w-2xl mx-auto leading-relaxed">
          {{ section.settings.bottom_description | default: "From the farm to your kitchen, each product carries the essence of our sustainable farming practices and the wisdom of generations who understood that the best food comes from respecting the land." }}
        </p>
        {% if section.settings.bottom_button_text %}
          <a href="{{ section.settings.bottom_button_link | default: '/collections' }}" class="inline-block px-8 py-4 bg-gradient-to-r from-gray-700 to-gray-600 text-white rounded-full font-medium hover:shadow-xl transition-all duration-300">
            {{ section.settings.bottom_button_text }}
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Collections Section",
  "settings": [
    {
      "type": "text",
      "id": "badge_text",
      "label": "Badge Text",
      "default": "üåø FROM FARM TO TABLE"
    },
    {
      "type": "text",
      "id": "main_title",
      "label": "Main Title",
      "default": "Explore Our Collections"
    },
    {
      "type": "textarea",
      "id": "main_description",
      "label": "Main Description",
      "default": "Discover our carefully curated collections of premium organic products, each telling a unique story from farm to table."
    },
    {
      "type": "text",
      "id": "bottom_title",
      "label": "Bottom Section Title",
      "default": "Every Collection Has a Story"
    },
    {
      "type": "textarea",
      "id": "bottom_description",
      "label": "Bottom Section Description",
      "default": "From the farm to your kitchen, each product carries the essence of our sustainable farming practices and the wisdom of generations who understood that the best food comes from respecting the land."
    },
    {
      "type": "text",
      "id": "bottom_button_text",
      "label": "Bottom Button Text",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "bottom_button_link",
      "label": "Bottom Button Link",
      "default": "/collections"
    }
  ],
  "presets": [
    {
      "name": "Collections Section"
    }
  ]
}
{% endschema %} 