<section class="pt-32 pb-16 bg-white">
  <div class="container mx-auto px-6">
    <!-- Section Title -->
    <h2 class="text-4xl md:text-5xl font-bold text-gray-800 text-center mb-12">
      {{ section.settings.section_title | default: "Our Top-notch works" }}
    </h2>

    <!-- Works Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
      {% if section.blocks.size > 0 %}
        {% for block in section.blocks %}
          <div class="group relative rounded-3xl overflow-hidden h-[300px]">
            <!-- Image -->
            <div class="absolute inset-0">
              {% if block.settings.work_image %}
                <img src="{{ block.settings.work_image | image_url: width: 600 }}" alt="{{ block.settings.work_title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
              {% else %}
                <div class="w-full h-full bg-gradient-to-br from-green-100 to-green-300 flex items-center justify-center">
                  <span class="text-8xl text-green-600">
                    {% case forloop.index %}
                      {% when 1 %}ğŸŒ±
                      {% when 2 %}ğŸšœ
                      {% when 3 %}ğŸŒ¾
                      {% when 4 %}ğŸ…
                      {% when 5 %}ğŸ¥•
                      {% when 6 %}ğŸŒ¿
                    {% endcase %}
                  </span>
                </div>
              {% endif %}
              <div class="absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors"></div>
            </div>

            <!-- Content -->
            <div class="relative h-full p-8 flex flex-col">
              <div class="mt-auto">
                <h3 class="text-2xl font-bold text-white mb-2">{{ block.settings.work_title | default: "Our Work" }}</h3>
                <span class="text-white/90">{{ block.settings.work_subtitle | default: "Quality Farming" }}</span>
              </div>

              <!-- Arrow Icon -->
              <div class="absolute top-6 right-6">
                <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center transform translate-x-2 translate-y-2 opacity-0 group-hover:translate-x-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300">
                  <span class="text-white">â†’</span>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <!-- Default work items when no blocks are added -->
        {% assign default_works = 'Sustainable Farming,Organic Certification,Quality Control,Farm Innovation,Green Technology,Community Impact' | split: ',' %}
        {% assign default_subtitles = 'Eco-friendly practices,100% Organic guarantee,Premium standards,Modern techniques,Smart solutions,Local support' | split: ',' %}
        
        {% for work in default_works %}
          <div class="group relative rounded-3xl overflow-hidden h-[300px]">
            <div class="absolute inset-0">
              <div class="w-full h-full bg-gradient-to-br from-green-100 to-green-300 flex items-center justify-center">
                <span class="text-8xl text-green-600">
                  {% case forloop.index %}
                    {% when 1 %}ğŸŒ±
                    {% when 2 %}ğŸšœ
                    {% when 3 %}ğŸŒ¾
                    {% when 4 %}ğŸ…
                    {% when 5 %}ğŸ¥•
                    {% when 6 %}ğŸŒ¿
                  {% endcase %}
                </span>
              </div>
              <div class="absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors"></div>
            </div>

            <div class="relative h-full p-8 flex flex-col">
              <div class="mt-auto">
                <h3 class="text-2xl font-bold text-white mb-2">{{ work }}</h3>
                <span class="text-white/90">{{ default_subtitles[forloop.index0] }}</span>
              </div>

              <div class="absolute top-6 right-6">
                <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center transform translate-x-2 translate-y-2 opacity-0 group-hover:translate-x-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300">
                  <span class="text-white">â†’</span>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      {% endif %}
    </div>

    <!-- More Work Button -->
    {% if section.settings.button_text %}
      <div class="flex justify-center">
        <a href="{{ section.settings.button_link | default: '/pages/about' }}" class="bg-orange-500 text-white px-8 py-3 rounded-lg font-medium hover:bg-orange-600 transition-colors shadow-lg hover:shadow-xl">
          {{ section.settings.button_text }}
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Works Section",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Our Top-notch works"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "More Work"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link",
      "default": "/pages/about"
    }
  ],
  "blocks": [
    {
      "type": "work_item",
      "name": "Work Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "work_image",
          "label": "Work Image"
        },
        {
          "type": "text",
          "id": "work_title",
          "label": "Work Title",
          "default": "Our Work"
        },
        {
          "type": "text",
          "id": "work_subtitle",
          "label": "Work Subtitle",
          "default": "Quality Farming"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Works Section",
      "blocks": [
        { "type": "work_item" },
        { "type": "work_item" },
        { "type": "work_item" },
        { "type": "work_item" },
        { "type": "work_item" },
        { "type": "work_item" }
      ]
    }
  ]
}
{% endschema %} 